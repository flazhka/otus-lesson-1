# Настраиваем центральный сервер для сбора логов

#### Домашнее задание:    
- В Vagrant разворачиваем 2 машины web и log
- На web поднимаем nginx
- На log настраиваем центральный лог сервер на любой системе на выбор, выбрал journald; rsyslog; elk.
- Настраиваем аудит, следящий за изменением конфигов nginx
- Все критичные логи с web должны собираться и локально и удаленно.
- Все логи с nginx должны уходить на удаленный сервер (локально только критичные).
- Логи аудита должны также уходить на удаленную систему.
- В рамках тренировки и автоматизации работы формат сдачи ДЗ выбран vagrant + ansible

#### Выполнение
    Лабораторная среда раворачивалась при помощи vafgarnt и автоматизации ansible -  конфигурация ролей была взята из galaxy.ansible.com были скоректированы расположение папок и ip адреса vm.

![Лог развертывания виртуальных машин](/Lab17/syslog_inst_exp.txt)

После развертывания виртуальных машин Vagrant на сервере log проверяем, что на него пишутся error и access логи nginx и логи audit, приходящие с сервера web

![Логи](/Lab17/logs.txt)



